/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.skyflow.generated.auth.rest.resources.authentication.requests;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.skyflow.generated.auth.rest.core.ObjectMappers;

import java.util.HashMap;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = V1GetAuthTokenRequest.Builder.class)
public final class V1GetAuthTokenRequest {
    private final String grantType;

    private final String assertion;

    private final Optional<String> subjectToken;

    private final Optional<String> subjectTokenType;

    private final Optional<String> requestedTokenUse;

    private final Optional<String> scope;

    private final Map<String, Object> additionalProperties;

    private V1GetAuthTokenRequest(
            String grantType,
            String assertion,
            Optional<String> subjectToken,
            Optional<String> subjectTokenType,
            Optional<String> requestedTokenUse,
            Optional<String> scope,
            Map<String, Object> additionalProperties) {
        this.grantType = grantType;
        this.assertion = assertion;
        this.subjectToken = subjectToken;
        this.subjectTokenType = subjectTokenType;
        this.requestedTokenUse = requestedTokenUse;
        this.scope = scope;
        this.additionalProperties = additionalProperties;
    }

    /**
     * @return Grant type of the request. Set this to <code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>.
     */
    @JsonProperty("grant_type")
    public String getGrantType() {
        return grantType;
    }

    /**
     * @return User-signed JWT token that contains the following fields: &lt;br/&gt; &lt;ul&gt;&lt;li&gt;&lt;code&gt;iss&lt;/code&gt;: Issuer of the JWT.&lt;/li&gt;&lt;li&gt;&lt;code&gt;key&lt;/code&gt;: Unique identifier for the key.&lt;/li&gt;&lt;li&gt;&lt;code&gt;aud&lt;/code&gt;: Recipient the JWT is intended for.&lt;/li&gt;&lt;li&gt;&lt;code&gt;exp&lt;/code&gt;: Time the JWT expires.&lt;/li&gt;&lt;li&gt;&lt;code&gt;sub&lt;/code&gt;: Subject of the JWT.&lt;/li&gt;&lt;li&gt;&lt;code&gt;ctx&lt;/code&gt;: (Optional) Value for &lt;a href='/context-aware-overview/'&gt;Context-aware authorization&lt;/a&gt;.&lt;/li&gt;&lt;/ul&gt;
     */
    @JsonProperty("assertion")
    public String getAssertion() {
        return assertion;
    }

    /**
     * @return Subject token.
     */
    @JsonProperty("subject_token")
    public Optional<String> getSubjectToken() {
        return subjectToken;
    }

    /**
     * @return Subject token type.
     */
    @JsonProperty("subject_token_type")
    public Optional<String> getSubjectTokenType() {
        return subjectTokenType;
    }

    /**
     * @return Token use type. Either <code>delegation</code> or <code>impersonation</code>.
     */
    @JsonProperty("requested_token_use")
    public Optional<String> getRequestedTokenUse() {
        return requestedTokenUse;
    }

    /**
     * @return Subset of available &lt;a href='#Roles'&gt;roles&lt;/a&gt; to associate with the requested token. Uses the format &quot;role:&lt;roleID1&gt; role:&lt;roleID2&gt;&quot;.
     */
    @JsonProperty("scope")
    public Optional<String> getScope() {
        return scope;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof V1GetAuthTokenRequest && equalTo((V1GetAuthTokenRequest) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(V1GetAuthTokenRequest other) {
        return grantType.equals(other.grantType)
                && assertion.equals(other.assertion)
                && subjectToken.equals(other.subjectToken)
                && subjectTokenType.equals(other.subjectTokenType)
                && requestedTokenUse.equals(other.requestedTokenUse)
                && scope.equals(other.scope);
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(
                this.grantType,
                this.assertion,
                this.subjectToken,
                this.subjectTokenType,
                this.requestedTokenUse,
                this.scope);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static GrantTypeStage builder() {
        return new Builder();
    }

    public interface GrantTypeStage {
        /**
         * Grant type of the request. Set this to `urn:ietf:params:oauth:grant-type:jwt-bearer`.
         */
        AssertionStage grantType(@NotNull String grantType);

        Builder from(V1GetAuthTokenRequest other);
    }

    public interface AssertionStage {
        /**
         * User-signed JWT token that contains the following fields: <br/> <ul><li><code>iss</code>: Issuer of the JWT.</li><li><code>key</code>: Unique identifier for the key.</li><li><code>aud</code>: Recipient the JWT is intended for.</li><li><code>exp</code>: Time the JWT expires.</li><li><code>sub</code>: Subject of the JWT.</li><li><code>ctx</code>: (Optional) Value for <a href='/context-aware-overview/'>Context-aware authorization</a>.</li></ul>
         */
        _FinalStage assertion(@NotNull String assertion);
    }

    public interface _FinalStage {
        V1GetAuthTokenRequest build();

        /**
         * <p>Subject token.</p>
         */
        _FinalStage subjectToken(Optional<String> subjectToken);

        _FinalStage subjectToken(String subjectToken);

        /**
         * <p>Subject token type.</p>
         */
        _FinalStage subjectTokenType(Optional<String> subjectTokenType);

        _FinalStage subjectTokenType(String subjectTokenType);

        /**
         * <p>Token use type. Either <code>delegation</code> or <code>impersonation</code>.</p>
         */
        _FinalStage requestedTokenUse(Optional<String> requestedTokenUse);

        _FinalStage requestedTokenUse(String requestedTokenUse);

        /**
         * <p>Subset of available &lt;a href='#Roles'&gt;roles&lt;/a&gt; to associate with the requested token. Uses the format &quot;role:&lt;roleID1&gt; role:&lt;roleID2&gt;&quot;.</p>
         */
        _FinalStage scope(Optional<String> scope);

        _FinalStage scope(String scope);
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder implements GrantTypeStage, AssertionStage, _FinalStage {
        private String grantType;

        private String assertion;

        private Optional<String> scope = Optional.empty();

        private Optional<String> requestedTokenUse = Optional.empty();

        private Optional<String> subjectTokenType = Optional.empty();

        private Optional<String> subjectToken = Optional.empty();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        @java.lang.Override
        public Builder from(V1GetAuthTokenRequest other) {
            grantType(other.getGrantType());
            assertion(other.getAssertion());
            subjectToken(other.getSubjectToken());
            subjectTokenType(other.getSubjectTokenType());
            requestedTokenUse(other.getRequestedTokenUse());
            scope(other.getScope());
            return this;
        }

        /**
         * Grant type of the request. Set this to `urn:ietf:params:oauth:grant-type:jwt-bearer`.<p>Grant type of the request. Set this to <code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("grant_type")
        public AssertionStage grantType(@NotNull String grantType) {
            this.grantType = Objects.requireNonNull(grantType, "grantType must not be null");
            return this;
        }

        /**
         * User-signed JWT token that contains the following fields: <br/> <ul><li><code>iss</code>: Issuer of the JWT.</li><li><code>key</code>: Unique identifier for the key.</li><li><code>aud</code>: Recipient the JWT is intended for.</li><li><code>exp</code>: Time the JWT expires.</li><li><code>sub</code>: Subject of the JWT.</li><li><code>ctx</code>: (Optional) Value for <a href='/context-aware-overview/'>Context-aware authorization</a>.</li></ul><p>User-signed JWT token that contains the following fields: &lt;br/&gt; &lt;ul&gt;&lt;li&gt;&lt;code&gt;iss&lt;/code&gt;: Issuer of the JWT.&lt;/li&gt;&lt;li&gt;&lt;code&gt;key&lt;/code&gt;: Unique identifier for the key.&lt;/li&gt;&lt;li&gt;&lt;code&gt;aud&lt;/code&gt;: Recipient the JWT is intended for.&lt;/li&gt;&lt;li&gt;&lt;code&gt;exp&lt;/code&gt;: Time the JWT expires.&lt;/li&gt;&lt;li&gt;&lt;code&gt;sub&lt;/code&gt;: Subject of the JWT.&lt;/li&gt;&lt;li&gt;&lt;code&gt;ctx&lt;/code&gt;: (Optional) Value for &lt;a href='/context-aware-overview/'&gt;Context-aware authorization&lt;/a&gt;.&lt;/li&gt;&lt;/ul&gt;</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("assertion")
        public _FinalStage assertion(@NotNull String assertion) {
            this.assertion = Objects.requireNonNull(assertion, "assertion must not be null");
            return this;
        }

        /**
         * <p>Subset of available &lt;a href='#Roles'&gt;roles&lt;/a&gt; to associate with the requested token. Uses the format &quot;role:&lt;roleID1&gt; role:&lt;roleID2&gt;&quot;.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage scope(String scope) {
            this.scope = Optional.ofNullable(scope);
            return this;
        }

        /**
         * <p>Subset of available &lt;a href='#Roles'&gt;roles&lt;/a&gt; to associate with the requested token. Uses the format &quot;role:&lt;roleID1&gt; role:&lt;roleID2&gt;&quot;.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "scope", nulls = Nulls.SKIP)
        public _FinalStage scope(Optional<String> scope) {
            this.scope = scope;
            return this;
        }

        /**
         * <p>Token use type. Either <code>delegation</code> or <code>impersonation</code>.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage requestedTokenUse(String requestedTokenUse) {
            this.requestedTokenUse = Optional.ofNullable(requestedTokenUse);
            return this;
        }

        /**
         * <p>Token use type. Either <code>delegation</code> or <code>impersonation</code>.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "requested_token_use", nulls = Nulls.SKIP)
        public _FinalStage requestedTokenUse(Optional<String> requestedTokenUse) {
            this.requestedTokenUse = requestedTokenUse;
            return this;
        }

        /**
         * <p>Subject token type.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage subjectTokenType(String subjectTokenType) {
            this.subjectTokenType = Optional.ofNullable(subjectTokenType);
            return this;
        }

        /**
         * <p>Subject token type.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "subject_token_type", nulls = Nulls.SKIP)
        public _FinalStage subjectTokenType(Optional<String> subjectTokenType) {
            this.subjectTokenType = subjectTokenType;
            return this;
        }

        /**
         * <p>Subject token.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage subjectToken(String subjectToken) {
            this.subjectToken = Optional.ofNullable(subjectToken);
            return this;
        }

        /**
         * <p>Subject token.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "subject_token", nulls = Nulls.SKIP)
        public _FinalStage subjectToken(Optional<String> subjectToken) {
            this.subjectToken = subjectToken;
            return this;
        }

        @java.lang.Override
        public V1GetAuthTokenRequest build() {
            return new V1GetAuthTokenRequest(
                    grantType,
                    assertion,
                    subjectToken,
                    subjectTokenType,
                    requestedTokenUse,
                    scope,
                    additionalProperties);
        }
    }
}
