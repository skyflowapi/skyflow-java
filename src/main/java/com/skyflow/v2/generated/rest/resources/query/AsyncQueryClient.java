/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.skyflow.v2.generated.rest.resources.query;

import com.skyflow.v2.generated.rest.core.ClientOptions;
import com.skyflow.v2.generated.rest.core.RequestOptions;
import com.skyflow.v2.generated.rest.resources.query.requests.QueryServiceExecuteQueryBody;
import com.skyflow.v2.generated.rest.types.V1GetQueryResponse;
import java.util.concurrent.CompletableFuture;

public class AsyncQueryClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawQueryClient rawClient;

    public AsyncQueryClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawQueryClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawQueryClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Returns records for a valid SQL query. This endpoint &lt;ul&gt;&lt;li&gt;Can return redacted record values.&lt;/li&gt;&lt;li&gt;Supports only the &lt;code&gt;SELECT&lt;/code&gt; command.&lt;/li&gt;&lt;li&gt;Returns a maximum of 25 records. To return additional records, perform another query using the &lt;code&gt;OFFSET&lt;/code&gt; keyword.&lt;/li&gt;&lt;li&gt;Can't modify the vault or perform transactions.&lt;/li&gt;&lt;li&gt;Can't return tokens.&lt;/li&gt;&lt;li&gt;Can't return file download or render URLs.&lt;/li&gt;&lt;li&gt;Doesn't support the &lt;code&gt;WHERE&lt;/code&gt; keyword with columns using transient tokenization.&lt;/li&gt;&lt;li&gt;Doesn't support <code>?</code> conditional for columns with column-level encryption disabled.&lt;/li&gt;&lt;ul&gt;
     */
    public CompletableFuture<V1GetQueryResponse> queryServiceExecuteQuery(String vaultId) {
        return this.rawClient.queryServiceExecuteQuery(vaultId).thenApply(response -> response.body());
    }

    /**
     * Returns records for a valid SQL query. This endpoint &lt;ul&gt;&lt;li&gt;Can return redacted record values.&lt;/li&gt;&lt;li&gt;Supports only the &lt;code&gt;SELECT&lt;/code&gt; command.&lt;/li&gt;&lt;li&gt;Returns a maximum of 25 records. To return additional records, perform another query using the &lt;code&gt;OFFSET&lt;/code&gt; keyword.&lt;/li&gt;&lt;li&gt;Can't modify the vault or perform transactions.&lt;/li&gt;&lt;li&gt;Can't return tokens.&lt;/li&gt;&lt;li&gt;Can't return file download or render URLs.&lt;/li&gt;&lt;li&gt;Doesn't support the &lt;code&gt;WHERE&lt;/code&gt; keyword with columns using transient tokenization.&lt;/li&gt;&lt;li&gt;Doesn't support <code>?</code> conditional for columns with column-level encryption disabled.&lt;/li&gt;&lt;ul&gt;
     */
    public CompletableFuture<V1GetQueryResponse> queryServiceExecuteQuery(
            String vaultId, QueryServiceExecuteQueryBody request) {
        return this.rawClient.queryServiceExecuteQuery(vaultId, request).thenApply(response -> response.body());
    }

    /**
     * Returns records for a valid SQL query. This endpoint &lt;ul&gt;&lt;li&gt;Can return redacted record values.&lt;/li&gt;&lt;li&gt;Supports only the &lt;code&gt;SELECT&lt;/code&gt; command.&lt;/li&gt;&lt;li&gt;Returns a maximum of 25 records. To return additional records, perform another query using the &lt;code&gt;OFFSET&lt;/code&gt; keyword.&lt;/li&gt;&lt;li&gt;Can't modify the vault or perform transactions.&lt;/li&gt;&lt;li&gt;Can't return tokens.&lt;/li&gt;&lt;li&gt;Can't return file download or render URLs.&lt;/li&gt;&lt;li&gt;Doesn't support the &lt;code&gt;WHERE&lt;/code&gt; keyword with columns using transient tokenization.&lt;/li&gt;&lt;li&gt;Doesn't support <code>?</code> conditional for columns with column-level encryption disabled.&lt;/li&gt;&lt;ul&gt;
     */
    public CompletableFuture<V1GetQueryResponse> queryServiceExecuteQuery(
            String vaultId, QueryServiceExecuteQueryBody request, RequestOptions requestOptions) {
        return this.rawClient
                .queryServiceExecuteQuery(vaultId, request, requestOptions)
                .thenApply(response -> response.body());
    }
}
