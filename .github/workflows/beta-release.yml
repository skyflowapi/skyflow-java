name: Public beta release
on:
  push:
    tags: '*.*.*-beta.*'
jobs:
  build-and-deploy:
    uses: ./.github/workflows/shared-build-and-deploy.yml
    with:
      ref: ${{ github.ref_name }}
      server-id: central
      profile: maven-central
      tag: 'beta'
      module: 'v3'
    secrets:
      server-username: ${{ secrets.CENTRAL_PUBLISHER_PORTAL_USERNAME }}
      server-password: ${{ secrets.CENTRAL_PUBLISHER_PORTAL_PASSWORD }}
